/*
 *  Copyright IBM Corp. 2025
 *
 *  This source code is licensed under the Apache-2.0 license found in the
 *  LICENSE file in the root directory of this source tree.
 */

@use "@carbon/layout";
@use "@carbon/styles/scss/motion";
@use "@carbon/styles/scss/theme";
@use "../styles/chat-theme";

.cds-aichat--non-header-container {
  position: relative;
  display: flex;
  overflow: hidden;
  flex: 1 1 0%;
}

.cds-aichat--widget--max-width
  .cds-aichat--messages-container__input-container {
  margin: auto;
  inline-size: 100%;
  max-inline-size: chat-theme.$messages-max-width;
}

.cds-aichat--messages-and-input-container {
  position: relative;
  display: flex;
  flex-direction: column;
  inline-size: 100%;
  transition: inline-size motion.$duration-fast-02
    motion.motion(standard, productive);

  &--no-animation {
    transition: none;
  }
}

.cds-aichat--non-header-container:has(
  .cds-aichat--workspace-container-panel__open
) {
  .cds-aichat--messages-and-input-container {
    inline-size: 25%;
    min-inline-size: 360px;
  }
}

.cds-aichat--widget--max-width {
  .cds-aichat--panel-content {
    max-inline-size: 1366px;

    &:has(.cds-aichat--workspace-container-panel__open) {
      padding-inline: layout.$spacing-05;
    }

    &--workspace-start {
      justify-content: flex-end;
    }
  }

  .cds-aichat--non-header-container:has(
    .cds-aichat--workspace-container-panel__open
  ) {
    .cds-aichat--messages-and-input-container {
      padding-inline: layout.$spacing-05;
    }
  }

  .cds-aichat--messages-container__non-input-container {
    overflow: hidden auto;
    block-size: 100%;
  }
}

.cds-aichat--workspace-container-inner {
  block-size: 100%;
}

.cds-aichat--before-input-element {
  margin: auto;
  max-inline-size: chat-theme.$messages-max-width;
}

.cds-aichat--workspace-modal {
  cds-modal-body {
    border-block-end: none;
    -webkit-mask-image: none;
    mask-image: none;
  }

  &::part(dialog) {
    border: none;
    border-radius: 8px;
  }
}

.cds-aichat--workspace-writeable-element {
  block-size: 100%;
}

.cds-aichat--workspace-container-panel {
  block-size: 100%;
  inline-size: 0;
  padding-block: layout.$spacing-07;
  padding-inline: layout.$spacing-05;
  transition: inline-size motion.$duration-fast-02
    motion.motion(standard, productive);

  &__open {
    inline-size: 75%;
  }

  &--no-animation {
    transition: none;
  }
}

.cds-aichat--messages-container__non-input-container {
  position: relative;
  display: flex;
  overflow: hidden;
  flex: 1;
  flex-direction: column;
}

.cds-aichat--process-wizard-done-button {
  justify-content: center;
}

.cds-aichat--messages-error-handler {
  padding: layout.$spacing-05;
}
