/* 
 *  Copyright IBM Corp. 2025
 *  
 *  This source code is licensed under the Apache-2.0 license found in the
 *  LICENSE file in the root directory of this source tree.
 */

@use "@carbon/layout";
@use "@carbon/styles/scss/theme";
@use "@carbon/styles/scss/type";
@use "../../styles/chat-theme";

.cds-aichat--widget--max-width .cds-aichat--header-bottom-element {
  margin: auto;
  max-inline-size: var(--cds-aichat-messages-max-width, 672px);
}

.cds-aichat--header__container {
  background-color: theme.$chat-shell-background;
  border-start-end-radius: var(
    --cds-aichat-rounded-modifier-radius-start-end,
    0
  );
  border-start-start-radius: var(
    --cds-aichat-rounded-modifier-radius-start-start,
    0
  );
}

.cds-aichat--header {
  display: flex;
  box-sizing: unset;
  justify-content: center;
  background-color: theme.$chat-header-background;
  block-size: 40px;
  border-block-end: 1px solid theme.$border-subtle-00;
  border-start-end-radius: var(
    --cds-aichat-rounded-modifier-radius-start-end,
    0
  );
  border-start-start-radius: var(
    --cds-aichat-rounded-modifier-radius-start-start,
    0
  );
  inline-size: 100%;
  @include type.type-style("body-01");
}

.cds-aichat--header--content {
  position: relative;
  display: flex;
  border-start-end-radius: var(
    --cds-aichat-rounded-modifier-radius-start-end,
    0
  );
  border-start-start-radius: var(
    --cds-aichat-rounded-modifier-radius-start-start,
    0
  );
  inline-size: 100%;
}

.cds-aichat--widget--max-width .cds-aichat--header--content {
  max-inline-size: chat-theme.$messages-max-width;
}

.cds-aichat--header__buttons {
  display: flex;
  align-items: center;
}

.cds-aichat--header__buttons .cds-aichat--header__slug {
  margin: layout.$spacing-03;
}

.cds-aichat--header__center-container {
  display: flex;
  overflow: hidden;
  flex: 1;
  align-items: center;
  margin: 0 layout.$spacing-02;
}

.cds-aichat--header__center-container:first-child {
  margin: 0 layout.$spacing-05;
}

.cds-aichat--header__slug-description {
  @include type.type-style("body-01");
}

.cds-aichat--header__slug-label {
  color: theme.$text-secondary;
  padding-block-end: layout.$spacing-04;
  @include type.type-style("body-compact-01");
}

.cds-aichat--header__slug-title {
  padding-block-end: layout.$spacing-04;
}

.cds-aichat--header__overflow-menu {
  max-block-size: 488px;
}

.cds-aichat--header__overflow-menu svg,
.cds-aichat--header__back-button svg,
.cds-aichat--header__restart-button svg,
.cds-aichat--header__close-button svg {
  block-size: 16px;
  inline-size: 16px;
}

.cds-aichat--container--render[dir="rtl"]
  .cds-aichat--home-screen-header
  button.cds-aichat--header__back-button {
  // The back button on the home screen is just text so reversing it would be wrong.
  transform: none;
}

.cds-aichat--header--with-avatar .cds-aichat--header__center-container {
  margin-inline-start: 0;
}

.cds-aichat--header__left-items,
.cds-aichat--chat-header-overflow-menu__host-element,
.cds-aichat--header__title-container {
  max-inline-size: 100%;
}

.cds-aichat--header__left-items :first-child {
  border-start-start-radius: var(
    --cds-aichat-rounded-modifier-radius-start-start,
    0
  );
}

.cds-aichat--header__left-items :first-child::part(button) {
  border-start-start-radius: var(
    --cds-aichat-rounded-modifier-radius-start-start,
    0
  );
}

.cds-aichat--header__right-buttons :last-child::part(button) {
  border-start-end-radius: var(
    --cds-aichat-rounded-modifier-radius-start-end,
    0
  );
}

cds-aichat-chat-header-avatar {
  align-self: center;
  margin-inline: layout.$spacing-03;
}

cds-aichat-chat-header-avatar + .cds-aichat--header__separator {
  margin-inline-start: layout.$spacing-03;
}

.cds-aichat--wide-width.cds-aichat--widget--max-width
  .cds-aichat--header__center-container:first-child {
  margin: 0 layout.$spacing-05 0 0;
}

.cds-aichat--header--with-avatar
  .cds-aichat--header__center-container:first-child
  > cds-aichat-chat-header-avatar {
  margin-inline-start: layout.$spacing-04;

  /* Icon reversal for RTL support */
  .cds-aichat--container--render .cds-aichat--reverse-icon svg {
    transform: scaleX(-1);
  }

  .cds-aichat--container--render[dir="rtl"] .cds-aichat--reverse-icon svg {
    transform: scaleX(1);
  }
}
