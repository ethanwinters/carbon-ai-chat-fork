import { ArgTypes, Canvas, Meta } from "@storybook/addon-docs/blocks";
import * as PanelReactStories from "./cds-aichat-panel-react.stories";

<Meta of={PanelReactStories} />

# Chat shell panel

[Source code](https://github.com/carbon-design-system/carbon-ai-chat/tree/main/packages/ai-chat-components/src/components/chat-shell) &nbsp;|&nbsp; [Feedback](https://github.com/carbon-design-system/carbon-ai-chat/issues)

{/* <!-- START doctoc generated TOC please keep comment here to allow auto update --> <!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE --> */}

## Table of Contents

- [Overview](#overview)
- [Component API](#component-api)
- [Feedback](#feedback)

{/* <!-- END doctoc generated TOC please keep comment here to allow auto update --> */}

## Overview

The `<ChatPanel>` component wraps the `cds-aichat-panel` web component to create overlay panels that display on top of the chat interface inside React applications. Panels support priority management, animations, and flexible content layouts with header, body, and footer slots. Multiple panels can be defined, with the highest priority panel being displayed when multiple are open simultaneously.

Panels provide:
- **Priority-based display** - Control which panel shows when multiple are open
- **Configurable animations** - Slide-in/slide-out effects on open and close
- **Full-width mode** - Panels can span the entire chat interface width
- **Chat header integration** - Optionally display the chat header within panels
- **Content framing** - Optional visual frame around panel content
- **Responsive behavior** - Automatic width detection and styling adjustments

### Getting started

Here's a quick example to get you started.

```jsx
import ChatShell from "@carbon/ai-chat-components/es/react/cds-aichat-shell.js";
import ChatPanel from "@carbon/ai-chat-components/es/react/cds-aichat-panel.js";

function ChatWithPanel() {
  const [isPanelOpen, setIsPanelOpen] = React.useState(false);

  return (
    <ChatShell>
      <div slot="header">Chat Header</div>
      <div slot="messages">Messages</div>
      <div slot="input">Input</div>
      
      <div slot="panels">
        <ChatPanel 
          open={isPanelOpen}
          showChatHeader 
          showFrame
          animationOnOpen="slide-in-from-bottom"
          animationOnClose="slide-out-to-bottom">
          <div slot="header">Panel Header</div>
          <div slot="body">Panel Content</div>
        </ChatPanel>
      </div>
    </ChatShell>
  );
}
```

## Component API

<ArgTypes of={PanelReactStories.Default} />

### Usage Patterns

#### Basic Panel Toggle

```jsx
function BasicPanelExample() {
  const [isOpen, setIsOpen] = React.useState(false);

  return (
    <ChatShell showFrame>
      <div slot="header">Chat Header</div>
      <div slot="messages">
        <button onClick={() => setIsOpen(!isOpen)}>
          {isOpen ? 'Close Panel' : 'Open Panel'}
        </button>
      </div>
      <div slot="input">Input Area</div>
      
      <div slot="panels">
        <ChatPanel 
          open={isOpen}
          showChatHeader
          showFrame
          animationOnOpen="slide-in-from-bottom"
          animationOnClose="slide-out-to-bottom">
          <div slot="header">
            <h4>Panel Header</h4>
          </div>
          <div slot="body">
            <p>Panel content goes here</p>
          </div>
        </ChatPanel>
      </div>
    </ChatShell>
  );
}
```

#### Full-Width Panel

```jsx
function FullWidthPanelExample() {
  const [isOpen, setIsOpen] = React.useState(false);

  return (
    <ChatShell showFrame>
      <div slot="header">Chat Header</div>
      <div slot="messages">Messages</div>
      <div slot="input">Input</div>
      
      <div slot="panels">
        <ChatPanel 
          open={isOpen}
          fullWidth
          showChatHeader
          showFrame
          animationOnOpen="slide-in-from-bottom"
          animationOnClose="slide-out-to-bottom">
          <div slot="header">Full Width Panel</div>
          <div slot="body">
            This panel spans the entire width of the chat interface.
          </div>
        </ChatPanel>
      </div>
    </ChatShell>
  );
}
```

#### Multiple Panels with Priority

```jsx
function MultiPanelExample() {
  const [panel1Open, setPanel1Open] = React.useState(false);
  const [panel2Open, setPanel2Open] = React.useState(false);

  return (
    <ChatShell showFrame>
      <div slot="header">Chat Header</div>
      <div slot="messages">
        <button onClick={() => setPanel1Open(!panel1Open)}>
          Toggle Low Priority Panel
        </button>
        <button onClick={() => setPanel2Open(!panel2Open)}>
          Toggle High Priority Panel
        </button>
      </div>
      <div slot="input">Input</div>
      
      <div slot="panels">
        <ChatPanel 
          open={panel1Open}
          priority={0}
          showChatHeader
          showFrame>
          <div slot="header">Low Priority Panel</div>
          <div slot="body">This panel has priority 0</div>
        </ChatPanel>
        
        <ChatPanel 
          open={panel2Open}
          priority={2}
          showChatHeader
          showFrame>
          <div slot="header">High Priority Panel</div>
          <div slot="body">
            This panel has priority 2 and will display over the other panel
          </div>
        </ChatPanel>
      </div>
    </ChatShell>
  );
}
```

## Feedback

Open an issue at https://github.com/carbon-design-system/carbon-ai-chat/issues to provide feedback or request changes.